<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Studio - ViralScope</title>
    <!-- PERBAIKAN 1: Hapus spasi di akhir URL -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- PERBAIKAN 2: Tambahkan '/' di depan -->
    <link rel="stylesheet" href="/css/style-main.css">
    
    <!-- Tambahan Style Khusus AI jika perlu (Opsional, kalau style-main.css belum cukup) -->
    <link rel="stylesheet" href="/css/style-ai.css">
</head>
<body>
    <nav>
        <div class="nav-left"><a href="index.html" class="logo">âš¡ ViralScope</a></div>
        <div class="nav-right">
            <button class="theme-btn" onclick="toggleTheme()" id="themeBtn">ğŸŒ™</button>
            <div class="hamburger" onclick="toggleMenu()"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>
    </nav>
    <div class="dropdown-menu" id="dropdownMenu">
        <a class="menu-item" href="index.html" onclick="toggleMenu()">Home ğŸ </a>
        <a class="menu-item" href="ai-generator.html" onclick="toggleMenu()" style="color:var(--primary)">AI Studio ğŸ¤–</a>
        <a class="menu-item" href="https://runwayml.com" target="_blank" onclick="toggleMenu()">Video AI ğŸ¥</a>
        <div style="padding:15px 10px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between;">
            <span style="color:var(--text); font-weight:600;">Language</span>
            <select id="langSelect" class="lang-select" onchange="changeLanguage()">
                <option value="en">ğŸ‡ºğŸ‡¸ EN</option><option value="id">ğŸ‡®ğŸ‡© ID</option><option value="es">ğŸ‡ªğŸ‡¸ ES</option><option value="jp">ğŸ‡¯ğŸ‡µ JP</option>
            </select>
        </div>
    </div>

    <div class="container">
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('image')">ğŸ¨ Image</button>
            <button class="tab-btn" onclick="switchTab('chat')">ğŸ’¬ Chat</button>
        </div>

        <!-- IMAGE TAB -->
        <div id="tab-image" class="tab-content active">
            <h1>AI Image Generator</h1>
            <p class="subtitle">Powered by Stable Diffusion XL</p>
            <textarea id="imgPrompt" class="prompt-area" placeholder="A cyberpunk cat..."></textarea>
            <div class="tools-row">
                <button class="random-btn" onclick="fillRandomPrompt()">ğŸ² Random</button>
                <div style="display:flex; gap:5px;">
                    <button class="ratio-btn active" onclick="setRatio(1024,1024,this)">1:1</button>
                    <button class="ratio-btn" onclick="setRatio(768,1344,this)">9:16</button>
                    <button class="ratio-btn" onclick="setRatio(1344,768,this)">16:9</button>
                </div>
            </div>
            <!-- TAMBAHKAN INI DI DEKAT AREA INPUT/RASIO -->
<div class="tools-row" style="margin-top: 15px; justify-content: center;">
    <label for="modelSelect" style="color: var(--text-sec); font-size: 0.9rem; margin-right: 10px;">ğŸ¨ Model:</label>
    <select id="modelSelect" class="lang-select" onchange="setModel(this.value)">
        <option value="flux">Flux (Best Quality)</option>
        <option value="turbo">Turbo (Fastest)</option>
        <option value="realistic">Realistic (Photo)</option>
        <option value="anime">Anime Style</option>
    </select>
</div>
            <button class="action-btn-main" id="genImgBtn" onclick="generateImage()">âœ¨ Generate</button>
            
            <div class="result-area">
    <!-- 1. Placeholder (Teks "Art will appear here") -->
    <div id="imgPlaceholder" class="placeholder-box">
        <i class="fas fa-image" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.3;"></i>
        <p>Art will appear here</p>
    </div>

    <!-- 2. Loader (Harus ada di sini, di antara placeholder dan gambar) -->
    <div class="loader" id="imgLoader"></div>
    
    <!-- 3. Container Gambar (Default display: none) -->
    <div class="image-container" id="imgContainer">
        <img id="generatedImage" src="" alt="AI Art">
    </div>

    <!-- 4. Tombol Aksi -->
    <div class="action-buttons" id="imgActions">
        <button class="btn-small" onclick="downloadImage()">Download</button>
        <button class="btn-small" onclick="shareImage()">Share</button>
    </div>
</div>
            <div class="gallery-section" id="gallerySection">
                <div style="color:var(--text-sec); font-weight:600; margin-bottom:10px;">Recent</div>
                <div class="gallery-grid" id="galleryGrid"></div>
            </div>
        </div>

        <!-- CHAT TAB -->
        <div id="tab-chat" class="tab-content">
            <h1>AI Chat</h1>
            <p class="subtitle">Powered by Llama 3</p>
            <div class="chat-container" id="chatBox"><div class="message ai">Hello! How can I help?</div></div>
            <div class="chat-input-area">
                <input type="text" id="chatInput" class="chat-input" placeholder="Type..." onkeypress="if(event.key==='Enter') sendChat()">
                <button class="send-btn" onclick="sendChat()">â¤</button>
            </div>
        </div>
    </div>
    <div id="toast">âœ… Copied!</div>
<!-- === TAMBAHAN POLLINATIONS AI (AMAN, NO KONFLIK) === -->
<div style="margin: 30px auto; max-width: 800px; padding: 25px; background: #f8f9fa; border-radius: 16px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
  <h2 style="margin-bottom: 20px; color: #6b21a8;">ğŸš€ Generate Gambar AI Gratis (Pollinations Flux)</h2>
  <input 
    type="text" 
    id="pollinPrompt" 
    placeholder="Contoh: anak kucing di sawah Yogyakarta, anime style, sunset" 
    style="width: 100%; max-width: 600px; padding: 16px; font-size: 16px; border: 2px solid #ddd; border-radius: 12px;">
  <br><br>
  <button 
    onclick="generatePollinationsImage()" 
    style="padding: 14px 40px; font-size: 18px; background: linear-gradient(135deg, #6b21a8, #a855f7); color: white; border: none; border-radius: 12px; cursor: pointer;">
    Generate Sekarang (Flux)
  </button>
  <div id="pollinResult" style="margin-top: 25px; min-height: 120px;"></div>
</div>

<script>
async function generatePollinationsImage() {
  const prompt = document.getElementById('pollinPrompt').value.trim();
  const resultDiv = document.getElementById('pollinResult');
  
  if (!prompt) {
    resultDiv.innerHTML = '<p style="color:red;">Masukkan deskripsi dulu ya!</p>';
    return;
  }

  resultDiv.innerHTML = '<p>Sedang generate gambar AI (5-10 detik)... Flux model</p>';

  const url = `https://pollinations.ai/p/${encodeURIComponent(prompt)}?model=flux&width=1024&height=1024&seed=${Math.floor(Math.random()*999999)}&enhance=true`;

  try {
    const img = document.createElement('img');
    img.src = url;
    img.style.maxWidth = '100%';
    img.style.borderRadius = '12px';
    img.style.boxShadow = '0 10px 30px rgba(107,33,168,0.2)';
    resultDiv.innerHTML = '';
    resultDiv.appendChild(img);
  } catch(e) {
    resultDiv.innerHTML = '<p style="color:red;">Gagal, coba lagi atau refresh!</p>';
  }
}
</script>
<!-- === END TAMBAHAN === -->
    <!-- PERBAIKAN 3: Tambahkan '/' di depan src -->
    <script src="/js/script-ai.js"></script>
</body>
</html>
